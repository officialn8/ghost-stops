/* ═══════════════════════════════════════════════════════════════
   ANIMATION SYSTEM
   Premium motion design tokens and animations
   ═══════════════════════════════════════════════════════════════ */

/* ═══════════════════════════════════════════════════════════════
   ENHANCED FILTER PILLS
   ═══════════════════════════════════════════════════════════════ */

/* Enhanced filter pill animations (removed !important to allow inline styles) */
.filter-pill {
  position: relative;
  transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  overflow: hidden;
}

.filter-pill::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--pill-color);
  opacity: 0;
  transition: opacity 0.2s ease;
  border-radius: inherit;
}

/* Ensure text stays visible */
.filter-pill > * {
  position: relative;
  z-index: 1;
}

.filter-pill:hover:not(.active) {
  transform: translateY(-1px);
}

.filter-pill:hover:not(.active)::before {
  opacity: 0.1;
}

.filter-pill:active {
  transform: scale(0.97);
  transition-duration: 0.1s;
}

.filter-pill.active {
  transform: scale(1.02);
  animation: pillActivate 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.filter-pill.active:hover {
  transform: scale(1.04);
}

/* Micro-animation on state change */
@keyframes pillActivate {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1.02);
  }
}

/* Dark mode enhancements */
[data-theme="dark"] .filter-pill:hover:not(.active) {
  border-color: var(--pill-color-border-dark, rgba(255, 255, 255, 0.2));
}

/* ═══════════════════════════════════════════════════════════════
   STAGGERED LIST ANIMATIONS
   ═══════════════════════════════════════════════════════════════ */

.stagger-list {
  --stagger-delay: 0.06s;
}

.stagger-list-item {
  opacity: 0;
  transform: translateX(-30px);
  filter: blur(4px);
  animation: staggerIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  animation-delay: calc(var(--index, 0) * var(--stagger-delay));
}

@keyframes staggerIn {
  to {
    opacity: 1;
    transform: translateX(0);
    filter: blur(0px);
  }
}

/* ═══════════════════════════════════════════════════════════════
   GHOST SCORE ANIMATIONS
   ═══════════════════════════════════════════════════════════════ */

.ghost-score-gauge {
  animation: gaugeReveal 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* Ghost score gauge text styling */
.ghost-score-gauge-text {
  font-variant-numeric: tabular-nums;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

@keyframes gaugeReveal {
  from {
    transform: scale(0.8) rotate(-180deg);
    opacity: 0;
  }
  to {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

.ghost-score-number {
  animation: countUp 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

@keyframes countUp {
  from {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.1);
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Pulse effect for high ghost scores */
.ghost-score-high {
  animation: ghostPulse 2s ease-in-out infinite;
}

@keyframes ghostPulse {
  0%, 100% {
    transform: scale(1);
    filter: drop-shadow(0 0 20px currentColor);
  }
  50% {
    transform: scale(1.05);
    filter: drop-shadow(0 0 30px currentColor);
  }
}

/* ═══════════════════════════════════════════════════════════════
   PANEL ENTRANCE CHOREOGRAPHY
   ═══════════════════════════════════════════════════════════════ */

.panel-enter {
  animation: panelSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes panelSlideIn {
  from {
    transform: translateX(100px) scale(0.95);
    opacity: 0;
    filter: blur(10px);
  }
  to {
    transform: translateX(0) scale(1);
    opacity: 1;
    filter: blur(0px);
  }
}

.panel-content-item {
  opacity: 0;
  transform: translateY(20px);
  animation: panelItemReveal 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  animation-delay: calc(var(--index, 0) * 0.08s + 0.15s);
}

@keyframes panelItemReveal {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ═══════════════════════════════════════════════════════════════
   MAP MARKER ANIMATIONS
   ═══════════════════════════════════════════════════════════════ */

.map-marker-ghost {
  animation: markerPulse 3s ease-in-out infinite;
}

@keyframes markerPulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.2);
    opacity: 0.6;
  }
}

.map-marker-selected {
  animation: markerSelect 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes markerSelect {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1.15);
  }
}

/* ═══════════════════════════════════════════════════════════════
   MICRO INTERACTIONS
   ═══════════════════════════════════════════════════════════════ */

/* Button breath effect */
.breathe {
  animation: breathe 3s ease-in-out infinite;
}

@keyframes breathe {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

/* Shimmer effect for loading states */
.shimmer {
  position: relative;
  overflow: hidden;
}

.shimmer::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.2) 50%,
    transparent 100%
  );
  transform: translateX(-100%);
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  to {
    transform: translateX(100%);
  }
}

/* Ghost float effect */
.ghost-float {
  animation: ghostFloat 4s ease-in-out infinite;
}

@keyframes ghostFloat {
  0%, 100% {
    transform: translateY(0);
  }
  25% {
    transform: translateY(-10px);
  }
  75% {
    transform: translateY(5px);
  }
}

/* Ghost particle float up animation */
.animate-float-up {
  animation: floatUp 3s ease-out infinite;
}

.animate-float-up-delay {
  animation: floatUp 3s ease-out 1s infinite;
}

.animate-float-up-delay-2 {
  animation: floatUp 3s ease-out 2s infinite;
}

@keyframes floatUp {
  0% {
    transform: translateY(0) translateX(-50%);
    opacity: 0;
  }
  20% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-30px) translateX(-50%);
    opacity: 0;
  }
}